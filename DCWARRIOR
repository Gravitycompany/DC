-- Papita AOH - Panel Rayfield sin key
local Rayfield = loadstring(game:HttpGet('https://github.com/mitselaxel-del/MagicoStupideCloud/raw/refs/heads/main/RF'))()

local Window = Rayfield:CreateWindow({
    Name = "DCIMPUT",
    LoadingTitle = "DCWarrior",
    LoadingSubtitle = "WARRIOR EJECUTANDO",
    ConfigurationSaving = {
        Enabled = false,
        FolderName = nil,
        FileName = "Big Hub"
    },
    Discord = {
        Enabled = false,
        Invite = "noinvitelink",
        RememberJoins = true
    },
    KeySystem = false, -- Key system totalmente deshabilitado
})

Rayfield:Notify({
    Title = "Welcome to aoh of decadencia",
    Content = "Worst Game",
    Duration = 5,
    Image = nil,
    Actions = {
        Ignore = {
            Name = "Okay!",
            Callback = function()
                print("The user tapped Okay!")
            end
        },
    },
})

-- // Pesta√±a principal
local PlayerTab = Window:CreateTab("üéØ Jugadores", 4483362458)
local PlayerSection = PlayerTab:CreateSection("Opciones de jugador")

-- // Dropdown din√°mico con jugadores
local playerList = {}
for _, plr in pairs(game.Players:GetPlayers()) do
    table.insert(playerList, plr.Name)
end

local PlayerDropdown = PlayerTab:CreateDropdown({
    Name = "Seleccionar jugador",
    Options = playerList,
    CurrentOption = playerList[1],
    Flag = "JugadorSeleccionado",
    Callback = function(option)
        selectedPlayer = option
        Rayfield:Notify({
            Title = "Jugador seleccionado",
            Content = "Ahora seguir√°s a: " .. option,
            Duration = 4
        })
    end,
})

-- // Refrescar lista cada pocos segundos
task.spawn(function()
    while task.wait(3) do
        local updated = {}
        for _, p in pairs(game.Players:GetPlayers()) do
            table.insert(updated, p.Name)
        end
        PlayerDropdown:Refresh(updated)
    end
end)

-- // Toggle: TP sin fin
local TPtoggle = PlayerTab:CreateToggle({
    Name = "TP sin fin al jugador",
    CurrentValue = false,
    Flag = "TPsinFin",
    Callback = function(value)
        tpLoop = value
        if tpLoop then
            Rayfield:Notify({
                Title = "TP activado",
                Content = "Comenzando seguimiento autom√°tico...",
                Duration = 3
            })
            while tpLoop do
                task.wait(0.2)
                if selectedPlayer and game.Players:FindFirstChild(selectedPlayer) then
                    local target = game.Players[selectedPlayer].Character
                    local me = game.Players.LocalPlayer.Character
                    if target and me and target:FindFirstChild("HumanoidRootPart") and me:FindFirstChild("HumanoidRootPart") then
                        me:MoveTo(target.HumanoidRootPart.Position + Vector3.new(0, 2, 0))
                    end
                end
            end
        else
            Rayfield:Notify({
                Title = "TP desactivado",
                Content = "Teletransporte infinito detenido",
                Duration = 3
            })
        end
    end,
})

-- // Toggle: Noclip
local NoclipToggle = PlayerTab:CreateToggle({
    Name = "Noclip (atravesar paredes)",
    CurrentValue = false,
    Flag = "Noclip",
    Callback = function(value)
        noclip = value
    end,
})

game:GetService("RunService").Stepped:Connect(function()
    if noclip then
        for _, part in pairs(game.Players.LocalPlayer.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end)

-- // Bot√≥n para detener TP manualmente
local StopTP = PlayerTab:CreateButton({
    Name = "üõë Detener TP sin fin",
    Callback = function()
        tpLoop = false
        Rayfield:Notify({
            Title = "TP detenido",
            Content = "Ya no seguir√°s al jugador seleccionado.",
            Duration = 3
        })
    end,
})

local StatsTab = Window:CreateTab("üîÑÔ∏èAuto Stats", 4483362458)
local StatSection = StatsTab:CreateSection("Upgrade Settings")

local Button5 = StatsTab:CreateButton({
   Name = "Instant Stats MENU UI",
   Callback = function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/mitselaxel-del/12214897214987/refs/heads/main/INSTATS'))()
   end,
})

-- // Matar
local PlayerTab = Window:CreateTab("¬©Ô∏è Matar seccion", 4483362458)
local Label = Main4Tab:CreateLabel("---- KILL AURA UI ----")

local Label = Main4Tab:CreateLabel("---- Mas botones rapid punch ----")

-- === üîπ Rapid Punch ===
local RapidToggle = Main4Tab:CreateToggle({
	Name = "Rapid Punch",
	CurrentValue = false,
	Flag = "RapidPunchToggle",
	Callback = function(state)
		-- Servicios y setup local dentro del bloque
		local ReplicatedStorage = game:GetService("ReplicatedStorage")
		local UserInputService = game:GetService("UserInputService")
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		-- Funci√≥n segura para enviar el golpe
		local function safePunch(args)
			pcall(function()
				ReplicatedStorage.Events.Punch:FireServer(table.unpack(args))
			end)
		end

		-- Control del estado
		getgenv().rapid = state
		if getgenv()._rapidConn then
			pcall(function() getgenv()._rapidConn:Disconnect() end)
			getgenv()._rapidConn = nil
		end

		if state then
			getgenv()._rapidConn = UserInputService.InputBegan:Connect(function(input, processed)
				if processed then return end
				if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
					task.spawn(function()
						for _ = 1, 10 do
							if not getgenv().rapid then break end
							safePunch({0, 0.1, 1})
							safePunch({0, 0.1, 1})
							safePunch({0, 0.1, 1})
							task.wait(0.02)
						end
					end)
				end
			end)
		end
	end,
})

-- === üî∏ Rapid Heavy Punch ===
local RapidHeavyToggle = Main4Tab:CreateToggle({
	Name = "Rapid Heavy Punch",
	CurrentValue = false,
	Flag = "RapidHeavyPunchToggle",
	Callback = function(state)
		-- Servicios y setup dentro del bloque
		local ReplicatedStorage = game:GetService("ReplicatedStorage")
		local UserInputService = game:GetService("UserInputService")
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		local function safePunch(args)
			pcall(function()
				ReplicatedStorage.Events.Punch:FireServer(table.unpack(args))
			end)
		end

		getgenv().Hrapid = state
		if getgenv()._hrapidConn then
			pcall(function() getgenv()._hrapidConn:Disconnect() end)
			getgenv()._hrapidConn = nil
		end

		if state then
			getgenv()._hrapidConn = UserInputService.InputBegan:Connect(function(input, processed)
				if processed then return end
				if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
					task.spawn(function()
						for _ = 1, 10 do
							if not getgenv().Hrapid then break end
							safePunch({0.4, 0.1, 1})
							safePunch({0.4, 0.1, 1})
							safePunch({0.4, 0.1, 1})
							task.wait(0.02)
						end
					end) 
				end
			end)
		end
	end,
})

-- === üí• Super Rapid Punch ===
local SuperRapidToggle = Main4Tab:CreateToggle({
	Name = "Super Rapid Punch",
	CurrentValue = false,
	Flag = "SuperRapidPunchToggle",
	Callback = function(state)
		-- Servicios dentro del bloque
		local ReplicatedStorage = game:GetService("ReplicatedStorage")
		local UserInputService = game:GetService("UserInputService")
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer

		local function safePunch(args)
			pcall(function()
				ReplicatedStorage.Events.Punch:FireServer(table.unpack(args))
			end)
		end

		getgenv().superrapid = state
		if getgenv()._superrapidConn then
			pcall(function() getgenv()._superrapidConn:Disconnect() end)
			getgenv()._superrapidConn = nil
		end

		if state then
			getgenv()._superrapidConn = UserInputService.InputBegan:Connect(function(input, processed)
				if processed then return end
				if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
					task.spawn(function()
						for _ = 1, 30 do -- s√∫per r√°faga
							if not getgenv().superrapid then break end
							safePunch({0, 0.1, 1})
							safePunch({0.4, 0.1, 1})
							task.wait(0.01)
						end
					end)
				end
			end)
		end
	end,
})
